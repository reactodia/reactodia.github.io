(()=>{"use strict";var e,t={6298:(e,t,r)=>{var n=r(5893),a=r(7294),o=r(5370),s=r(3607);const i="http://www.w3.org/2002/07/owl#",l="http://www.w3.org/2000/01/rdf-schema#",c={class:i+"Class",objectProperty:i+"ObjectProperty",domain:i+"domain",range:i+"range"},p={subClassOf:l+"subClassOf",subPropertyOf:l+"subPropertyOf"};function u(e,t){return Boolean(e.types.find((e=>e===t)))}const f=500;class d{async canDropOnCanvas(e,t){await w(f,t);const r=await this.typesOfElementsDraggedFrom(e,t);return t?.throwIfAborted(),r.length>0}async canDropOnElement(e,t,r){await w(f,r);const n=await this.possibleLinkTypes(e,t,r);return r?.throwIfAborted(),n.length>0}async possibleLinkTypes(e,t,r){function n(e,t=s.FH.out){return e.map((e=>({linkTypeIri:e,direction:t})))}return await w(f,r),u(e,c.class)&&u(t,c.class)?n([p.subClassOf]).concat(n([p.subClassOf],s.FH.in)):u(e,c.objectProperty)&&u(t,c.class)?n([c.domain,c.range]):u(t,c.objectProperty)&&u(e,c.class)?n([c.domain,c.range],s.FH.in):u(e,c.objectProperty)&&u(t,c.objectProperty)?n([p.subPropertyOf]).concat(n([p.subPropertyOf],s.FH.in)):[]}async typesOfElementsDraggedFrom(e,t){return await w(f,t),u(e,c.class)?[c.class]:u(e,c.objectProperty)?[c.class,c.objectProperty]:[]}async propertiesForType(e,t){return await w(f,t),[]}async canDeleteElement(e,t){return await w(f,t),!0}async filterConstructibleTypes(e,t){await w(f,t);const r=new Set;return e.forEach((e=>{e.length%2==0&&r.add(e)})),r}async canEditElement(e,t){return await w(f,t),!0}async canLinkElement(e,t){return await w(f,t),!0}async canDeleteLink(e,t,r,n){return await w(f,n),!0}async canEditLink(e,t,r,n){return await w(f,n),!0}async generateNewElement(e,t){await w(f,t);const r=Math.floor(4294967296*(1+Math.random())).toString(16).substring(1);return{id:`${e[0]}_${r}`,types:[...e],label:[s.O$.V1.literal("New Entity")],properties:{}}}}class y{async validate(e){const t=[];return e.target.types.indexOf(c.class)>=0&&e.state.links.forEach((r=>{r.before||r.after.sourceId!==e.target.id||(t.push({type:"link",target:r.after,message:"Cannot add any new link from a Class"}),t.push({type:"element",target:e.target.id,message:`Cannot create <${r.after.linkTypeId}> link from a Class`}))})),await w(f,e.signal),t}}async function w(e,t){t?.throwIfAborted(),await function(e){return 0===e?Promise.resolve():new Promise((t=>setTimeout(t,e)))}(e),t?.throwIfAborted()}var b=r(1350);const g=r(9319),h="urn:example:custom-link-label",m={renderLink:(e,t,r)=>{let n;if(t&&Object.prototype.hasOwnProperty.call(t,h)){const e=t[h];"string"==typeof e&&(n=e)}return{label:void 0===n?void 0:{label:[r.literal(n)],text:{fontStyle:"italic",fontWeight:"normal"}}}},setLinkLabel:(e,t)=>{e.setLinkState({...e.linkState,[h]:0===t.length?void 0:t})}};(0,b.pT)((0,n.jsx)((function(){const e=a.useRef(null);a.useEffect((()=>{const t=new AbortController,{model:r}=e.current.getContext(),n=new s.qY;n.addGraph((new o.Z).parse(g));const a=(0,b.Q4)();return r.importLayout({diagram:a,dataProvider:n,validateLinks:!0,signal:t.signal}),()=>t.abort()}),[]);const[t]=a.useState((()=>new d)),[r]=a.useState((()=>new y)),i=a.useCallback((e=>{let t=0;for(const r of e.properties)t=Math.max(t,r.length);const r=e.properties.map((e=>({propertyIri:e,score:1-e.length/t})));return(0,s.gw)(300).then((()=>r))}),[]);return(0,n.jsx)(s.j$,{ref:e,metadataApi:t,validationApi:r,typeStyleResolver:s.Ck,groupBy:[{linkType:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",linkDirection:"in"}],onIriClick:({iri:e})=>window.open(e),children:(0,n.jsx)(s.ii,{canvas:{elementTemplateResolver:e=>0===e.length?s.$K:e.includes("http://www.w3.org/2002/07/owl#DatatypeProperty")?s.D9:void 0,linkTemplateResolver:e=>"http://www.w3.org/2000/01/rdf-schema#subClassOf"===e?m:(0,s.TJ)(e)},connectionsMenu:{suggestProperties:i},toolbar:{menu:(0,n.jsx)(b.Tn,{})}})})}),{}))},3607:(e,t,r)=>{r.d(t,{$K:()=>l.$,C5:()=>y.C,Ck:()=>c.C,D9:()=>i.D,FH:()=>s.FH,O$:()=>o,PN:()=>u.PN,TJ:()=>p.T,gw:()=>n.gw,ii:()=>f.i,j$:()=>d.j,mn:()=>u.mn,qY:()=>a.q,rH:()=>u.rH,uQ:()=>u.uQ});var n=r(3004),a=(r(9224),r(6726),r(8390),r(8742),r(8312),r(8051),r(6239),r(3383),r(5434)),o=r(9929),s=(r(8718),r(4849),r(861),r(201),r(9570)),i=(r(9149),r(4315),r(6885),r(4698),r(6639),r(7900),r(4149),r(577),r(8812),r(8254),r(4995),r(2466),r(761),r(5426)),l=r(9758),c=(r(5020),r(1e3)),p=r(5311),u=(r(8729),r(6103),r(3797),r(6104),r(1449),r(1628),r(9168),r(3546),r(4805),r(290),r(1938),r(280),r(7471),r(2329),r(8524),r(9238),r(8446)),f=(r(6091),r(8143)),d=(r(6377),r(260)),y=r(8599);r(2072),r(2739),r(9958)}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var s=1/0;for(p=0;p<e.length;p++){for(var[r,a,o]=e[p],i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(p--,1);var c=a();void 0!==c&&(t=c)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[r,a,o]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=146,n.p="",(()=>{n.b=document.baseURI||self.location.href;var e={146:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[s,i,l]=r,c=0;if(s.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var p=l(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(p)},r=self.webpackChunk_reactodia_workspace=self.webpackChunk_reactodia_workspace||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0;var a=n.O(void 0,[351],(()=>n(6298)));a=n.O(a)})();