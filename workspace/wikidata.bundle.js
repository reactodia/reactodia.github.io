(()=>{"use strict";var e,t={7434:(e,t,n)=>{var o=n(5893),r=n(7294),a=n(3607),s=n(2876);(0,s.pT)((0,o.jsx)((function(){const e=r.useRef(null);return r.useEffect((()=>{const t=new AbortController,{model:n}=e.current.getContext(),o=new a.Qw({endpointUrl:"https://query.wikidata.org/sparql",imagePropertyUris:["http://www.wikidata.org/prop/direct/P18","http://www.wikidata.org/prop/direct/P154"],queryMethod:"GET"},a.uw),r=new a.KW({baseProvider:o,dbName:"reactodia-wikidata-cache"}),i=(0,s.Q4)();return n.importLayout({diagram:i,dataProvider:r,validateLinks:!0,signal:t.signal}),()=>t.abort()}),[]),(0,o.jsx)(a.j$,{ref:e,onIriClick:({iri:e})=>window.open(e),children:(0,o.jsx)(a.ii,{toolbar:{onSaveDiagram:()=>{const{model:t}=e.current.getContext(),n=t.exportLayout();window.location.hash=(0,s.I)(n),window.location.reload()},languages:[{code:"de",label:"Deutsch"},{code:"en",label:"english"},{code:"es",label:"español"},{code:"fr",label:"français"},{code:"ja",label:"日本語"},{code:"hi",label:"हिन्दी"},{code:"pt",label:"português"},{code:"ru",label:"русский"},{code:"zh",label:"汉语"}]}})})}),{}))},5794:(e,t,n)=>{n.d(t,{K:()=>r});const o=["elementType","element","link","direction","text","limit"];class r{static DB_VERSION=2;baseProvider;dbName;cacheTextLookups;openedDb;constructor(e){this.baseProvider=e.baseProvider,this.dbName=e.dbName,this.cacheTextLookups=e.cacheTextLookups??!1}get factory(){return this.baseProvider.factory}openDb(){return this.openedDb||(this.openedDb=new Promise(((e,t)=>{const n=indexedDB.open(this.dbName,r.DB_VERSION);n.onupgradeneeded=e=>{const t=n.result;if(e.newVersion!==e.oldVersion)for(const e of t.objectStoreNames)t.deleteObjectStore(e);t.objectStoreNames.contains("knownElementTypes")||t.createObjectStore("knownElementTypes",{keyPath:"id"}),t.objectStoreNames.contains("knownLinkTypes")||t.createObjectStore("knownLinkTypes",{keyPath:"id"}),t.objectStoreNames.contains("elementTypes")||t.createObjectStore("elementTypes",{keyPath:"id"}),t.objectStoreNames.contains("linkTypes")||t.createObjectStore("linkTypes",{keyPath:"id"}),t.objectStoreNames.contains("propertyTypes")||t.createObjectStore("propertyTypes",{keyPath:"id"}),t.objectStoreNames.contains("elements")||t.createObjectStore("elements",{keyPath:"id"}),t.objectStoreNames.contains("connectedLinkStats")||t.createObjectStore("connectedLinkStats",{keyPath:"elementId"}),t.objectStoreNames.contains("lookup")||t.createObjectStore("lookup",{keyPath:o})},n.onsuccess=t=>{const o=n.result;e(o)},n.onerror=e=>{t(n.error)}}))),this.openedDb}async knownElementTypes(e){const t=await this.openDb(),n=await a(t,"knownElementTypes","knownElementTypes",(async t=>({id:t,value:await this.baseProvider.knownElementTypes(e)})));return l(n.value.elementTypes.values(),this.factory),n.value}async knownLinkTypes(e){const t=await this.openDb(),n=await a(t,"knownLinkTypes","knownLinkTypes",(async t=>({id:t,value:await this.baseProvider.knownLinkTypes(e)})));return l(n.value.values(),this.factory),n.value}async elementTypes(e){const{classIds:t,signal:n}=e,o=await this.openDb(),r=await s(o,"elementTypes",t,(async e=>await this.baseProvider.elementTypes({classIds:e,signal:n})));return l(r.values(),this.factory),r}async propertyTypes(e){const{propertyIds:t,signal:n}=e,o=await this.openDb(),r=await s(o,"propertyTypes",t,(async e=>await this.baseProvider.propertyTypes({propertyIds:e,signal:n})));return l(r.values(),this.factory),r}async linkTypes(e){const{linkTypeIds:t,signal:n}=e,o=await this.openDb(),r=await s(o,"linkTypes",t,(async e=>await this.baseProvider.linkTypes({linkTypeIds:e,signal:n})));return l(r.values(),this.factory),r}async elements(e){const{elementIds:t,signal:n}=e,o=await this.openDb(),r=await s(o,"elements",t,(async e=>await this.baseProvider.elements({elementIds:e,signal:n})));return l(r.values(),this.factory),p(r.values(),this.factory),r}links(e){return this.baseProvider.links(e)}async connectedLinkStats(e){const{elementId:t,signal:n}=e,o=await this.openDb();return(await a(o,"connectedLinkStats",t,(async e=>({elementId:e,stats:await this.baseProvider.connectedLinkStats({elementId:e,signal:n})})))).stats}async lookup(e){if(!this.cacheTextLookups&&void 0!==e.text)return this.baseProvider.lookup(e);const t=[e.elementTypeId??"",e.refElementId??"",e.refElementLinkId??"",e.linkDirection??"",e.text??"",void 0===e.limit?"":null===e.limit?"null":String(e.limit)],n=await this.openDb(),o=await a(n,"lookup",t,(async([t,n,o,r,a,s])=>({elementType:t,element:n,link:o,direction:r,text:a,limit:s,result:await this.baseProvider.lookup(e)}))),r=o.result.map((e=>e.element));return l(r,this.factory),p(r,this.factory),o.result}}async function a(e,t,n,o){{const o=e.transaction(t,"readonly"),r=o.objectStore(t),a=await i(r.get(n));if(o.commit(),a)return a}const r=c(await o(n)),a=e.transaction(t,"readwrite"),s=a.objectStore(t);return await i(s.put(r)),a.commit(),r}async function s(e,t,n,o){const r=new Map,a=[];if(n.length>0){const o=e.transaction(t,"readonly"),s=o.objectStore(t);await function(e,t,n){return new Promise(((o,r)=>{let a=0,s=!1;for(const i of t){const c=e.get(i);c.onsuccess=()=>{if(!s){a++;try{n(c.result,i)}catch(e){s=!0,r(e)}a===t.length&&o()}},c.onerror=()=>{s=!0,r(c.error)}}}))}(s,n,((e,t)=>{const n=e;n?r.set(t,n):a.push(t)})),o.commit()}if(a.length>0){const n=await o(a),l=[];for(const[e,t]of n){const n=c(t);r.set(e,n),l.push(n)}const p=e.transaction(t,"readwrite"),d=p.objectStore(t);await(s=d,i=l,new Promise(((e,t)=>{const n=[];let o=!1;for(const r of i){const a=s.put(r);a.onsuccess=()=>{o||(n.push(a.result),n.length===i.length&&e(n))},a.onerror=()=>{o=!0,t(a.error)}}}))),p.commit()}var s,i;return r}function i(e){return new Promise(((t,n)=>{e.onsuccess=()=>t(e.result),e.onerror=()=>n(e.error)}))}function c(e){return JSON.parse(JSON.stringify(e))}function l(e,t){for(const n of e)n.label=n.label.map((e=>d(e,t)))}function p(e,t){for(const n of e)for(const e in n.properties)if(Object.prototype.hasOwnProperty.call(n.properties,e)){const o=n.properties[e];o&&(n.properties[e]=o.map((e=>d(e,t))))}}function d(e,t){switch(e.termType){case"NamedNode":return t.namedNode(e.value);case"Literal":return t.literal(e.value,e.language?e.language:t.namedNode(e.datatype.value));default:return e}}},3607:(e,t,n)=>{n.d(t,{KW:()=>o.K,Qw:()=>r.Q,ii:()=>i.i,j$:()=>c.j,uw:()=>a.uw,y8:()=>s.y8}),n(9224),n(6726),n(8390),n(8742),n(8312),n(8051),n(6239);var o=n(5794),r=(n(3383),n(5434),n(9929),n(8718)),a=n(4849),s=(n(861),n(201),n(9570),n(9149),n(4315),n(6885),n(9822),n(4698),n(8916),n(6639),n(7900),n(8710),n(4402),n(577),n(8812),n(8254),n(9487),n(2466),n(761)),i=(n(5426),n(9758),n(5020),n(1e3),n(5311),n(8729),n(3642),n(3797),n(6104),n(1449),n(1628),n(2738),n(3546),n(290),n(1938),n(280),n(7471),n(6091),n(7141),n(8143)),c=(n(6377),n(4413));n(8599),n(2072),n(2739),n(9958)}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var a=n[e]={id:e,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,n,r,a)=>{if(!n){var s=1/0;for(p=0;p<e.length;p++){for(var[n,r,a]=e[p],i=!0,c=0;c<n.length;c++)(!1&a||s>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(i=!1,a<s&&(s=a));if(i){e.splice(p--,1);var l=r();void 0!==l&&(t=l)}}return t}a=a||0;for(var p=e.length;p>0&&e[p-1][2]>a;p--)e[p]=e[p-1];e[p]=[n,r,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.j=797,o.p="",(()=>{o.b=document.baseURI||self.location.href;var e={797:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,a,[s,i,c]=n,l=0;if(s.some((t=>0!==e[t]))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(c)var p=c(o)}for(t&&t(n);l<s.length;l++)a=s[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(p)},n=self.webpackChunk_reactodia_workspace=self.webpackChunk_reactodia_workspace||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),o.nc=void 0;var r=o.O(void 0,[351],(()=>o(7434)));r=o.O(r)})();