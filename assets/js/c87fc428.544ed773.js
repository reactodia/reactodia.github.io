"use strict";(self.webpackChunk_reactodia_reactodia_github_io=self.webpackChunk_reactodia_reactodia_github_io||[]).push([[50086],{9591:(e,r,s)=>{s.r(r),s.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>d,metadata:()=>n,toc:()=>o});const n=JSON.parse('{"id":"api/workspace/classes/RestoreGeometry","title":"Class: RestoreGeometry","description":"Defined in30","source":"@site/docs/api/workspace/classes/RestoreGeometry.md","sourceDirName":"api/workspace/classes","slug":"/api/workspace/classes/RestoreGeometry","permalink":"/docs/api/workspace/classes/RestoreGeometry","draft":false,"unlisted":false,"editUrl":"https://github.com/reactodia/reactodia.github.io/tree/main/docs/api/workspace/classes/RestoreGeometry.md","tags":[],"version":"current","frontMatter":{},"sidebar":"api","previous":{"title":"workspace","permalink":"/docs/api/workspace/"},"next":{"title":"changeEntityData","permalink":"/docs/api/workspace/functions/changeEntityData"}}');var t=s(64922),a=s(16593);const d={},i="Class: RestoreGeometry",c={},o=[{value:"Implements",id:"implements",level:2},{value:"Accessors",id:"accessors",level:2},{value:"title",id:"title",level:3},{value:"Get Signature",id:"get-signature",level:4},{value:"Returns",id:"returns",level:5},{value:"Implementation of",id:"implementation-of",level:4},{value:"Methods",id:"methods",level:2},{value:"filterOutUnchanged()",id:"filteroutunchanged",level:3},{value:"Returns",id:"returns-1",level:4},{value:"hasChanges()",id:"haschanges",level:3},{value:"Returns",id:"returns-2",level:4},{value:"invoke()",id:"invoke",level:3},{value:"Returns",id:"returns-3",level:4},{value:"Implementation of",id:"implementation-of-1",level:4},{value:"capture()",id:"capture",level:3},{value:"Parameters",id:"parameters",level:4},{value:"Returns",id:"returns-4",level:4},{value:"capturePartial()",id:"capturepartial",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"Returns",id:"returns-5",level:4}];function l(e){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"class-restoregeometry",children:"Class: RestoreGeometry"})}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L30",children:"diagram/commands.ts:30"})]}),"\n",(0,t.jsx)(r.p,{children:"Command to restore element positions and link geometry (vertices) on a canvas."}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"Example"}),":"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"const capturedGeometry = RestoreGeometry.capture(model);\r\n// ... (move elements, change link vertices) ...\r\nrestoreGeometry = capturedGeometry.filterOutUnchanged();\r\nif (restoreGeometry.hasChanges()) {\r\n    model.history.registerToUndo(restoreGeometry);\r\n}\n"})}),"\n",(0,t.jsx)(r.h2,{id:"implements",children:"Implements"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.a,{href:"/docs/api/workspace/interfaces/Command",children:(0,t.jsx)(r.code,{children:"Command"})})}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"accessors",children:"Accessors"}),"\n",(0,t.jsx)(r.h3,{id:"title",children:"title"}),"\n",(0,t.jsx)(r.h4,{id:"get-signature",children:"Get Signature"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"get"})," ",(0,t.jsx)(r.strong,{children:"title"}),"(): ",(0,t.jsx)(r.a,{href:"/docs/api/workspace/classes/TranslatedText",children:(0,t.jsx)(r.code,{children:"TranslatedText"})})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L59",children:"diagram/commands.ts:59"})]}),"\n",(0,t.jsx)(r.p,{children:"Command title to display in the UI."}),"\n",(0,t.jsx)(r.h5,{id:"returns",children:"Returns"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"/docs/api/workspace/classes/TranslatedText",children:(0,t.jsx)(r.code,{children:"TranslatedText"})})}),"\n",(0,t.jsx)(r.p,{children:"Command title to display in the UI."}),"\n",(0,t.jsx)(r.h4,{id:"implementation-of",children:"Implementation of"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"/docs/api/workspace/interfaces/Command",children:(0,t.jsx)(r.code,{children:"Command"})}),".",(0,t.jsx)(r.a,{href:"/docs/api/workspace/interfaces/Command#title",children:(0,t.jsx)(r.code,{children:"title"})})]}),"\n",(0,t.jsx)(r.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(r.h3,{id:"filteroutunchanged",children:"filterOutUnchanged()"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"filterOutUnchanged"}),"(): ",(0,t.jsx)(r.code,{children:"RestoreGeometry"})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L78",children:"diagram/commands.ts:78"})]}),"\n",(0,t.jsx)(r.p,{children:"Creates a derived RestoreGeometry command by removing any geometry state\r\nwhich is equal to the current diagram content geometry state."}),"\n",(0,t.jsx)(r.p,{children:"This is useful to avoid adding a command without actual changes to the command history\r\nand to reduce the amount of memory to store captured geometry withing the command."}),"\n",(0,t.jsx)(r.h4,{id:"returns-1",children:"Returns"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"RestoreGeometry"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h3,{id:"haschanges",children:"hasChanges()"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"hasChanges"}),"(): ",(0,t.jsx)(r.code,{children:"boolean"})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L67",children:"diagram/commands.ts:67"})]}),"\n",(0,t.jsxs)(r.p,{children:["Returns ",(0,t.jsx)(r.code,{children:"true"})," if command contains any captured geometry state to restore,\r\notherwise ",(0,t.jsx)(r.code,{children:"false"}),"."]}),"\n",(0,t.jsx)(r.h4,{id:"returns-2",children:"Returns"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"boolean"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h3,{id:"invoke",children:"invoke()"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.strong,{children:"invoke"}),"(): ",(0,t.jsx)(r.code,{children:"RestoreGeometry"})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L89",children:"diagram/commands.ts:89"})]}),"\n",(0,t.jsx)(r.p,{children:"Performs the command action."}),"\n",(0,t.jsx)(r.h4,{id:"returns-3",children:"Returns"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"RestoreGeometry"})}),"\n",(0,t.jsx)(r.p,{children:"Inverse command to reverse changes done by the action."}),"\n",(0,t.jsx)(r.h4,{id:"implementation-of-1",children:"Implementation of"}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"/docs/api/workspace/interfaces/Command",children:(0,t.jsx)(r.code,{children:"Command"})}),".",(0,t.jsx)(r.a,{href:"/docs/api/workspace/interfaces/Command#invoke",children:(0,t.jsx)(r.code,{children:"invoke"})})]}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h3,{id:"capture",children:"capture()"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"static"})," ",(0,t.jsx)(r.strong,{children:"capture"}),"(",(0,t.jsx)(r.code,{children:"graph"}),"): ",(0,t.jsx)(r.code,{children:"RestoreGeometry"})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L41",children:"diagram/commands.ts:41"})]}),"\n",(0,t.jsx)(r.p,{children:"Creates RestoreGeometry command with captured geometry for all diagram content."}),"\n",(0,t.jsx)(r.h4,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Parameter"}),(0,t.jsx)("th",{children:"Type"})]})}),(0,t.jsx)("tbody",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"graph"})})}),(0,t.jsx)("td",{children:(0,t.jsx)(r.p,{children:(0,t.jsx)(r.a,{href:"/docs/api/workspace/interfaces/GraphStructure",children:(0,t.jsx)(r.code,{children:"GraphStructure"})})})})]})})]}),"\n",(0,t.jsx)(r.h4,{id:"returns-4",children:"Returns"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"RestoreGeometry"})}),"\n",(0,t.jsx)(r.hr,{}),"\n",(0,t.jsx)(r.h3,{id:"capturepartial",children:"capturePartial()"}),"\n",(0,t.jsxs)(r.blockquote,{children:["\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.code,{children:"static"})," ",(0,t.jsx)(r.strong,{children:"capturePartial"}),"(",(0,t.jsx)(r.code,{children:"elements"}),", ",(0,t.jsx)(r.code,{children:"links"}),"): ",(0,t.jsx)(r.code,{children:"RestoreGeometry"})]}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["Defined in: ",(0,t.jsx)(r.a,{href:"https://github.com/AlexeyMz/reactodia-workspace/blob/356ab81b3f74463db55a5118aa19d0298343db5f/src/diagram/commands.ts#L49",children:"diagram/commands.ts:49"})]}),"\n",(0,t.jsx)(r.p,{children:"Creates RestoreGeometry command with captured geometry for the specified\r\nsubset of a diagram content."}),"\n",(0,t.jsx)(r.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Parameter"}),(0,t.jsx)("th",{children:"Type"})]})}),(0,t.jsxs)("tbody",{children:[(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"elements"})})}),(0,t.jsx)("td",{children:(0,t.jsxs)(r.p,{children:["readonly ",(0,t.jsx)(r.a,{href:"/docs/api/workspace/classes/Element",children:(0,t.jsx)(r.code,{children:"Element"})}),"[]"]})})]}),(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"links"})})}),(0,t.jsx)("td",{children:(0,t.jsxs)(r.p,{children:["readonly ",(0,t.jsx)(r.a,{href:"/docs/api/workspace/classes/Link",children:(0,t.jsx)(r.code,{children:"Link"})}),"[]"]})})]})]})]}),"\n",(0,t.jsx)(r.h4,{id:"returns-5",children:"Returns"}),"\n",(0,t.jsx)(r.p,{children:(0,t.jsx)(r.code,{children:"RestoreGeometry"})})]})}function h(e={}){const{wrapper:r}={...(0,a.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},16593:(e,r,s)=>{s.d(r,{R:()=>d,x:()=>i});var n=s(77810);const t={},a=n.createContext(t);function d(e){const r=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function i(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),n.createElement(a.Provider,{value:r},e.children)}}}]);