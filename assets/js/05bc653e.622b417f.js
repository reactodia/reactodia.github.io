"use strict";(self.webpackChunk_reactodia_reactodia_github_io=self.webpackChunk_reactodia_reactodia_github_io||[]).push([[51120],{1848:(e,t,r)=>{r.d(t,{U:()=>l});var a=r(34164),o=(r(96540),r(78478));const i={inline:"inline_KKeb",fullSize:"fullSize_xfsN"};var n=r(74848);function l(e){const{fullSize:t,height:r,children:l}=e,s={"--inline-reactodia-height":t?"auto":r};return(0,n.jsx)("div",{className:(0,a.A)(t?i.fullSize:i.inline),style:s,children:(0,n.jsx)(o.A,{children:()=>(0,n.jsx)(n.Fragment,{children:l})})})}},62424:(e,t,r)=>{r.d(t,{V:()=>d});var a,o=r(96540),i=r(28774);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)({}).hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},n.apply(null,arguments)}const l=e=>{let{title:t,titleId:r,...i}=e;return o.createElement("svg",n({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor","aria-labelledby":r},i),t?o.createElement("title",{id:r},t):null,a||(a=o.createElement("path",{d:"M4.708 5.578 2.061 8.224l2.647 2.646-.708.708-3-3V7.87l3-3 .708.708zm7-.708L11 5.578l2.647 2.646L11 10.87l.708.708 3-3V7.87l-3-3zM4.908 13l.894.448 5-10L9.908 3l-5 10z"})))},s={viewSource:"viewSource_fiKn"};var c=r(74848);function d(e){const{target:t}=e;return(0,c.jsxs)(i.A,{className:s.viewSource,to:t,children:[(0,c.jsx)(l,{width:24,height:24}),"View Source"]})}},66446:(e,t,r)=>{r.d(t,{j:()=>n});r(96540);var a=r(19738),o=r(4213),i=r(74848);function n(){const{model:e,editor:t}=a.useWorkspace();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.ToolbarActionOpen,{fileAccept:".json",onSelect:async t=>{const r=new Map;for(const n of e.elements)for(const e of a.iterateEntitiesOf(n))r.set(e.id,e);const o=await t.text();try{const t=JSON.parse(o);await e.importLayout({dataProvider:e.dataProvider,diagram:t,preloadedElements:r,validateLinks:!0})}catch(i){alert("Failed to load specified file with a diagram layout.")}},children:"Open diagram from file"}),(0,i.jsx)(a.ToolbarActionSave,{mode:"layout",onSelect:()=>{const t=e.exportLayout(),r=JSON.stringify(t),a=new Blob([r],{type:"application/json"}),i=(new Date).toISOString().replaceAll(/[Z\s:-]/g,"");(0,o.saveAs)(a,`reactodia-diagram-${i}.json`)},children:"Save diagram to file"}),t.inAuthoringMode?(0,i.jsx)(a.ToolbarActionSave,{mode:"authoring",onSelect:()=>{const e=t.authoringState;console.log("Authoring state:",e),alert("Please check browser console for result")},children:"Persist changes to data"}):null,(0,i.jsx)(a.ToolbarActionClearAll,{}),(0,i.jsx)(a.ToolbarActionExport,{kind:"exportRaster"}),(0,i.jsx)(a.ToolbarActionExport,{kind:"exportSvg"}),(0,i.jsx)(a.ToolbarActionExport,{kind:"print"})]})}},7508:(e,t,r)=>{r.r(t),r.d(t,{PlaygroundWikidata:()=>s});var a=r(96540),o=r(19738),i=r(66446),n=r(74848);const l=o.defineLayoutWorker((()=>new Worker(new URL(r.p+r.u(64589),r.b))));function s(){const{defaultLayout:e}=o.useWorker(l),[t]=a.useState((()=>new o.EventSource)),{onMount:r}=o.useLoadedWorkspace((async e=>{let{context:r,signal:a}=e;const{model:i}=r,n=new o.SparqlDataProvider({endpointUrl:"https://query.wikidata.org/sparql",imagePropertyUris:["http://www.wikidata.org/prop/direct/P18","http://www.wikidata.org/prop/direct/P154"]},{...o.WikidataSettings,filterOnlyLanguages:["de","en","es","ru","zh"],linkTypesStatisticsQuery:""}),l=new o.IndexedDbCachedProvider({baseProvider:n,dbName:"reactodia-wikidata-cache",closeSignal:a});await i.importLayout({dataProvider:l,signal:a}),t.trigger("focus",{sectionKey:"entities"})}),[]),s=a.useCallback((e=>{const t=e.properties.map(((t,r)=>{const a=/P([0-9]+)$/.exec(t);return{propertyIri:t,score:a?-Number(a[1]):e.properties.length-r}}));return Promise.resolve(t)}),[]);return(0,n.jsx)(o.Workspace,{ref:r,defaultLayout:e,onIriClick:e=>{let{iri:t}=e;return window.open(t)},children:(0,n.jsx)(o.DefaultWorkspace,{menu:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.j,{}),(0,n.jsx)(c,{})]}),searchCommands:t,connectionsMenu:{suggestProperties:s},languages:[{code:"de",label:"Deutsch"},{code:"en",label:"english"},{code:"es",label:"espa\xf1ol"},{code:"ru",label:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"zh",label:"\u6c49\u8bed"}]})})}function c(){return(0,n.jsx)(o.ToolbarAction,{title:"Clear locally-cached data previously fetched from Wikidata",onSelect:()=>{const{model:{dataProvider:e}}=o.useWorkspace();e instanceof o.IndexedDbCachedProvider&&e.clearCache()},children:"Clear Wikidata cache"})}},23808:(e,t,r)=>{r.r(t),r.d(t,{default:()=>s});var a=r(78478),o=r(41217),i=r(1848),n=r(62424),l=r(74848);function s(){return(0,l.jsxs)(o.A,{title:"Playground: Wikidata",noFooter:!0,children:[(0,l.jsx)(a.A,{children:()=>{const{PlaygroundWikidata:e}=r(7508);return(0,l.jsx)(i.U,{fullSize:!0,children:(0,l.jsx)(e,{})})}}),(0,l.jsx)(n.V,{target:"/docs/examples/wikidata"})]})}}}]);