"use strict";(self.webpackChunk_reactodia_reactodia_github_io=self.webpackChunk_reactodia_reactodia_github_io||[]).push([[51120],{1848:(e,t,a)=>{a.d(t,{U:()=>c,y:()=>s});var r=a(34164),o=(a(77810),a(38410)),i=a(18576);const n={inline:"inline_KKeb",fullSize:"fullSize_xfsN"};var l=a(64922);function s(){return(0,l.jsx)(i.A,{children:(0,l.jsx)("meta",{name:"viewport",content:"initial-scale=1, interactive-widget=resizes-content"})})}function c(e){const{fullSize:t,height:a,children:i}=e,s={"--inline-reactodia-height":t?"auto":a};return(0,l.jsx)("div",{className:(0,r.default)(t?n.fullSize:n.inline),style:s,children:(0,l.jsx)(o.A,{children:()=>(0,l.jsx)(l.Fragment,{children:i})})})}},2369:(e,t,a)=>{a.d(t,{V:()=>d});var r,o=a(77810),i=a(43946);function n(){return n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},n.apply(null,arguments)}const l=({title:e,titleId:t,...a})=>o.createElement("svg",n({xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"currentColor",viewBox:"0 0 16 16","aria-labelledby":t},a),e?o.createElement("title",{id:t},e):null,r||(r=o.createElement("path",{d:"M4.708 5.578 2.061 8.224l2.647 2.646-.708.708-3-3V7.87l3-3zm7-.708L11 5.578l2.647 2.646L11 10.87l.708.708 3-3V7.87zM4.908 13l.894.448 5-10L9.908 3z"}))),s={viewSource:"viewSource_fiKn",label:"label_vLkb"};var c=a(64922);function d(e){const{target:t}=e;return(0,c.jsxs)(i.A,{className:s.viewSource,to:t,title:"View source code for the playground page",children:[(0,c.jsx)(l,{width:24,height:24}),(0,c.jsx)("span",{className:s.label,children:"View Source"})]})}},7508:(e,t,a)=>{a.r(t),a.d(t,{PlaygroundWikidata:()=>s});var r=a(77810),o=a(96333),i=a(66446),n=a(64922);const l=o.defineLayoutWorker((()=>new Worker(new URL(a.p+a.u(44444),a.b))));function s(){const{defaultLayout:e}=o.useWorker(l),{onMount:t}=o.useLoadedWorkspace((async({context:e,signal:t})=>{const{model:a,getCommandBus:r}=e,i=new o.SparqlDataProvider({endpointUrl:"https://query.wikidata.org/sparql",imagePropertyUris:["http://www.wikidata.org/prop/direct/P18","http://www.wikidata.org/prop/direct/P154"]},{...o.WikidataSettings,filterOnlyLanguages:["de","en","es","ru","zh"],linkTypesStatisticsQuery:""}),n=new o.IndexedDbCachedProvider({baseProvider:i,dbName:"reactodia-wikidata-cache",closeSignal:t});await a.importLayout({dataProvider:n,signal:t}),r(o.UnifiedSearchTopic).trigger("focus",{sectionKey:"entities"})}),[]),a=r.useCallback((e=>{const t=e.properties.map(((t,a)=>{const r=/P([0-9]+)$/.exec(t);return{propertyIri:t,score:r?-Number(r[1]):e.properties.length-a}}));return Promise.resolve(t)}),[]);return(0,n.jsx)(o.Workspace,{ref:t,defaultLayout:e,children:(0,n.jsx)(o.DefaultWorkspace,{menu:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.j,{}),(0,n.jsx)(c,{})]}),connectionsMenu:{suggestProperties:a},languages:[{code:"de",label:"Deutsch"},{code:"en",label:"english"},{code:"es",label:"espa\xf1ol"},{code:"ru",label:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"zh",label:"\u6c49\u8bed"}]})})}function c(){const{model:e}=o.useWorkspace();return(0,n.jsx)(o.ToolbarAction,{title:"Clear locally-cached data previously fetched from Wikidata",onSelect:()=>{const{dataProvider:t}=e;t instanceof o.IndexedDbCachedProvider&&t.clearCache()},children:"Clear Wikidata cache"})}},23808:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var r=a(38410),o=a(7225),i=a(1848),n=a(2369),l=a(64922);function s(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.y,{}),(0,l.jsxs)(o.A,{title:"Playground: Wikidata",noFooter:!0,children:[(0,l.jsx)(r.A,{children:()=>{const{PlaygroundWikidata:e}=a(7508);return(0,l.jsx)(i.U,{fullSize:!0,children:(0,l.jsx)(e,{})})}}),(0,l.jsx)(n.V,{target:"/docs/examples/wikidata"})]})]})}},66446:(e,t,a)=>{a.d(t,{j:()=>n});a(77810);var r=a(96333),o=a(2519),i=a(64922);function n(){const{model:e,editor:t,overlay:a}=r.useWorkspace();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.ToolbarActionOpen,{hotkey:"Mod+O",fileAccept:".json",onSelect:async t=>{const o=new Map;for(const a of e.elements)for(const e of r.iterateEntitiesOf(a))o.set(e.id,e);const i=a.startTask({title:"Importing a layout from file"});try{const a=await t.text(),r=JSON.parse(a);await e.importLayout({dataProvider:e.dataProvider,diagram:r,preloadedElements:o,validateLinks:!0})}catch(n){i.setError(new Error("Failed to load specified file with a diagram layout.",{cause:n}))}finally{i.end()}},children:"Open diagram from file"}),(0,i.jsx)(r.ToolbarActionSave,{mode:"layout",hotkey:"Mod+S",onSelect:()=>{const t=e.exportLayout(),a=JSON.stringify(t),r=new Blob([a],{type:"application/json"}),i=(new Date).toISOString().replaceAll(/[Z\s:-]/g,"");(0,o.saveAs)(r,`reactodia-diagram-${i}.json`)},children:"Save diagram to file"}),t.inAuthoringMode?(0,i.jsx)(r.ToolbarActionSave,{mode:"authoring",onSelect:()=>{const e=t.authoringState;console.log("Authoring state:",e),alert("Please check browser console for result")},children:"Persist changes to data"}):null,(0,i.jsx)(r.ToolbarActionClearAll,{}),(0,i.jsx)(r.ToolbarActionExport,{kind:"exportRaster"}),(0,i.jsx)(r.ToolbarActionExport,{kind:"exportSvg"}),(0,i.jsx)(r.ToolbarActionExport,{kind:"print",hotkey:"Mod+P"})]})}}}]);