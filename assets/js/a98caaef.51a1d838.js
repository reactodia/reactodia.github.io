"use strict";(self.webpackChunk_reactodia_reactodia_github_io=self.webpackChunk_reactodia_reactodia_github_io||[]).push([[19881],{1848:(e,a,t)=>{t.d(a,{U:()=>l});var o=t(34164),i=(t(96540),t(78478));const r={inline:"inline_KKeb",fullSize:"fullSize_xfsN"};var n=t(74848);function l(e){const{fullSize:a,height:t,children:l}=e,s={"--inline-reactodia-height":a?"auto":t};return(0,n.jsx)("div",{className:(0,o.A)(a?r.fullSize:r.inline),style:s,children:(0,n.jsx)(i.A,{children:()=>(0,n.jsx)(n.Fragment,{children:l})})})}},66446:(e,a,t)=>{t.d(a,{j:()=>n});t(96540);var o=t(19738),i=t(4213),r=t(74848);function n(){const{model:e,editor:a}=o.useWorkspace();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.ToolbarActionOpen,{fileAccept:".json",onSelect:async a=>{const t=new Map;for(const n of e.elements)for(const e of o.iterateEntitiesOf(n))t.set(e.id,e);const i=await a.text();try{const a=JSON.parse(i);await e.importLayout({dataProvider:e.dataProvider,diagram:a,preloadedElements:t,validateLinks:!0})}catch(r){alert("Failed to load specified file with a diagram layout.")}},children:"Open diagram from file"}),(0,r.jsx)(o.ToolbarActionSave,{mode:"layout",onSelect:()=>{const a=e.exportLayout(),t=JSON.stringify(a),o=new Blob([t],{type:"application/json"}),r=(new Date).toISOString().replaceAll(/[Z\s:-]/g,"");(0,i.saveAs)(o,`reactodia-diagram-${r}.json`)},children:"Save diagram to file"}),a.inAuthoringMode?(0,r.jsx)(o.ToolbarActionSave,{mode:"authoring",onSelect:()=>{const e=a.authoringState;console.log("Authoring state:",e),alert("Please check browser console for result")},children:"Persist changes to data"}):null,(0,r.jsx)(o.ToolbarActionClearAll,{}),(0,r.jsx)(o.ToolbarActionExport,{kind:"exportRaster"}),(0,r.jsx)(o.ToolbarActionExport,{kind:"exportSvg"}),(0,r.jsx)(o.ToolbarActionExport,{kind:"print"})]})}},76849:(e,a,t)=>{t.r(a),t.d(a,{WikidataExample:()=>l});t(96540);var o=t(19738),i=t(66446),r=t(74848);const n=o.defineLayoutWorker((()=>new Worker(new URL(t.p+t.u(21256),t.b))));function l(){const{defaultLayout:e}=o.useWorker(n),{onMount:a}=o.useLoadedWorkspace((async e=>{let{context:a,signal:t}=e;const{model:i}=a,r=new o.SparqlDataProvider({endpointUrl:"https://query.wikidata.org/sparql",imagePropertyUris:["http://www.wikidata.org/prop/direct/P18","http://www.wikidata.org/prop/direct/P154"]},{...o.WikidataSettings,filterOnlyLanguages:["de","en","es","ru","zh"],linkTypesStatisticsQuery:""}),n=new o.IndexedDbCachedProvider({baseProvider:r,dbName:"reactodia-wikidata-cache",closeSignal:t});await i.importLayout({dataProvider:n,signal:t})}),[]);return(0,r.jsx)(o.Workspace,{ref:a,defaultLayout:e,onIriClick:e=>{let{iri:a}=e;return window.open(a)},children:(0,r.jsx)(o.DefaultWorkspace,{toolbar:{menu:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.j,{}),(0,r.jsx)(s,{})]}),languages:[{code:"de",label:"Deutsch"},{code:"en",label:"english"},{code:"es",label:"espa\xf1ol"},{code:"ru",label:"\u0440\u0443\u0441\u0441\u043a\u0438\u0439"},{code:"zh",label:"\u6c49\u8bed"}]}})})}function s(){return(0,r.jsx)(o.ToolbarAction,{title:"Clear locally-cached data previously fetched from Wikidata",onSelect:()=>{const{model:{dataProvider:e}}=o.useWorkspace();e instanceof o.IndexedDbCachedProvider&&e.clearCache()},children:"Clear Wikidata cache"})}},69081:(e,a,t)=>{t.r(a),t.d(a,{default:()=>l});var o=t(78478),i=t(41217),r=t(1848),n=t(74848);function l(){return(0,n.jsx)(i.A,{title:"Example: Wikidata",noFooter:!0,children:(0,n.jsx)(o.A,{children:()=>{const{WikidataExample:e}=t(76849);return(0,n.jsx)(r.U,{fullSize:!0,children:(0,n.jsx)(e,{})})}})})}}}]);