"use strict";(self.webpackChunk_reactodia_reactodia_github_io=self.webpackChunk_reactodia_reactodia_github_io||[]).push([[81599],{3608:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>l});var a=t(64922),o=t(16593);const r={sidebar_position:10},s="UI localization and i18n",i={id:"concepts/i18n",title:"UI localization and i18n",description:"Reactodia has a built-in support for UI text strings localization.",source:"@site/docs/concepts/i18n.md",sourceDirName:"concepts",slug:"/concepts/i18n",permalink:"/docs/concepts/i18n",draft:!1,unlisted:!1,editUrl:"https://github.com/reactodia/reactodia.github.io/tree/main/docs/concepts/i18n.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"docs",previous:{title:"Graph Authoring",permalink:"/docs/concepts/graph-authoring"},next:{title:"Design System",permalink:"/docs/concepts/design-system"}},c={},l=[{value:"Translation bundle",id:"translation-bundle",level:2},{value:"Using translation in the custom components",id:"custom-translation",level:2}];function d(n){const e={a:"a",code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e.h1,{id:"ui-localization-and-i18n",children:"UI localization and i18n"}),"\n",(0,a.jsxs)(e.p,{children:["Reactodia has a built-in support for UI text strings localization.\r\nEach UI component in the library that displays text labels or descriptions resolves\r\nthem from ",(0,a.jsx)(e.a,{href:"#translation-bundle",children:"translation bundles"})," via ",(0,a.jsx)(e.a,{href:"#custom-translation",children:"Translation interface"}),"."]}),"\n",(0,a.jsx)(e.h2,{id:"translation-bundle",children:"Translation bundle"}),"\n",(0,a.jsxs)(e.p,{children:["Localized texts are organized in a form of plain JSON objects called ",(0,a.jsx)(e.code,{children:"TranslationBundle"}),".\r\nThe bundle have the following structure:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-json",children:'{\r\n    "$schema": "../i18n.schema.json",\r\n    "component_name": {\r\n        "some_action.label": "Some Action",\r\n        "some_action.title": "Performs some action",\r\n        "truncate_data.command": "Truncate Data",\r\n        "graph_edge.label": "{{start}} \u2192 {{end}}",\r\n        ...\r\n    },\r\n    ...\r\n}\n'})}),"\n",(0,a.jsxs)(e.p,{children:["Built-in translation bundles references the JSON schema to validate mistyped or unknown translation keys.\r\nThis schema is available as ",(0,a.jsx)(e.a,{href:"https://github.com/reactodia/reactodia-workspace/blob/master/i18n/i18n.schema.json",children:(0,a.jsx)(e.code,{children:"@reactodia/workspace/i18n/i18n.schema.json"})}),"\r\nand can be used with external JSON validation tool (e.g. ",(0,a.jsx)(e.a,{href:"https://github.com/ajv-validator/ajv-cli",children:(0,a.jsx)(e.code,{children:"ajv-cli"})}),")\r\nto check the translations."]}),"\n",(0,a.jsxs)(e.p,{children:["To provide customized translation, additional bundles can be passed to\r\n",(0,a.jsx)(e.a,{href:"/docs/components/workspace",children:(0,a.jsx)(e.code,{children:"Workspace"})})," component with ",(0,a.jsx)(e.code,{children:"translations"})," property:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"function TranslationOverride() {\r\n    return (\r\n        <Reactodia.Workspace\r\n            translations={[\r\n                {\r\n                    'default_workspace': {\r\n                        'search_section_entity_types.label': 'Class Tree',\r\n                        'search_section_entity_types.title': 'Class tree hierarchy',\r\n                    }\r\n                }\r\n            ]}>\r\n            <Reactodia.DefaultWorkspace />\r\n        </Reactodia.Workspace>\r\n    );\r\n}\n"})}),"\n",(0,a.jsxs)(e.p,{children:["Additional built-in or custom translation can be used the same way by loading the JSON bundle externally and\r\npass them with ",(0,a.jsx)(e.code,{children:"translations"})," property in th order of the one with the high priority to low priority.\r\nDefault ",(0,a.jsx)(e.code,{children:"en"})," translation (",(0,a.jsx)(e.code,{children:"@reactodia/workspace/i18n/translations/en.reactodia-translation.json"}),") is always\r\nenabled as a fallback unless ",(0,a.jsx)(e.code,{children:"useDefaultTranslation={false}"})," is specified:"]}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",children:"import enUkTranslation from './en-uk.reactodia-translation.json';\r\nimport deTranslation from './de.reactodia-translation.json';\r\n\r\nfunction MultipleTranslations() {\r\n    return (\r\n        <Reactodia.Workspace\r\n            translations={[deTranslation, enUkTranslation]}\r\n            useDefaultTranslation={false}>\r\n            <Reactodia.DefaultWorkspace />\r\n        </Reactodia.Workspace>\r\n    );\r\n}\n"})}),"\n",(0,a.jsx)(e.h2,{id:"custom-translation",children:"Using translation in the custom components"}),"\n",(0,a.jsxs)(e.p,{children:["The localization mechanism can be used for a custom component nested inside the ",(0,a.jsx)(e.a,{href:"/docs/components/workspace",children:(0,a.jsx)(e.code,{children:"Workspace"})})," by getting a ",(0,a.jsx)(e.a,{href:"/docs/api/workspace/interfaces/Translation",children:(0,a.jsx)(e.code,{children:"Translation"})})," instance which can be used to format localizable strings."]}),"\n",(0,a.jsxs)(e.p,{children:[(0,a.jsx)(e.a,{href:"/docs/api/workspace/functions/useTranslation",children:(0,a.jsx)(e.code,{children:"useTranslation()"})})," hook can be used to acquire the ",(0,a.jsx)(e.code,{children:"Translation"})," object; alternatively it is available as part of the ",(0,a.jsx)(e.a,{href:"/docs/concepts/workspace-context",children:(0,a.jsx)(e.code,{children:"WorkspaceContext"})})," via ",(0,a.jsx)(e.a,{href:"/docs/api/workspace/interfaces/WorkspaceContext",children:(0,a.jsx)(e.code,{children:"WorkspaceContext.translation"})})," property."]}),"\n",(0,a.jsx)(e.p,{children:"In the following example, additional custom translation keys are added to the workspace to provide localizable component labels:"}),"\n",(0,a.jsx)(e.pre,{children:(0,a.jsx)(e.code,{className:"language-tsx",metastring:"live noInline",live:!0,children:"function MyComponent() {\r\n    const t = Reactodia.useTranslation();\r\n    return (\r\n        <Reactodia.ToolbarAction\r\n            title={t.text('my_component.do_action.title')}\r\n            onSelect={() => alert('Done')}>\r\n            {t.text('my_component.do_action.label')}\r\n        </Reactodia.ToolbarAction>\r\n    );\r\n}\r\n\r\nfunction CustomTranslationKeys() {\r\n    const {defaultLayout} = Reactodia.useWorker(Layouts);\r\n    return (\r\n        <div className='reactodia-live-editor'>\r\n            <Reactodia.Workspace defaultLayout={defaultLayout}\r\n                translations={[\r\n                    {\r\n                        'my_component': {\r\n                            'do_action.label': 'Do the impossible!',\r\n                            'do_action.title': 'Perform the impossible action',\r\n                        }\r\n                    }\r\n                ]}>\r\n                <Reactodia.DefaultWorkspace\r\n                    actions={<MyComponent />}\r\n                />\r\n            </Reactodia.Workspace>\r\n        </div>\r\n    );\r\n}\r\n\r\nrender(<CustomTranslationKeys />);\n"})})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(d,{...n})}):d(n)}},16593:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>i});var a=t(77810);const o={},r=a.createContext(o);function s(n){const e=a.useContext(r);return a.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function i(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:s(n.components),a.createElement(r.Provider,{value:e},n.children)}}}]);